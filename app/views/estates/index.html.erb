<p id="notice"><%= notice %></p>

<h1><%= t('views.estate.index.title') %></h1>

<%= link_to t('views.estate.index.new'), new_estate_path %>

<table>
  <thead>
    <tr>
      <th><%= Estate.human_attribute_name(:id) %></th>
      <th><%= Estate.human_attribute_name(:address) %></th>
      <th><%= Estate.human_attribute_name(:estate_project) %></th>
      <th><%= Estate.human_attribute_name(:number_of_rooms) %></th>
      <th><%= Estate.human_attribute_name(:floor) %></th>
      <th><%= Estate.human_attribute_name(:price) %></th>
      <th><%= Person.human_attribute_name(:phone_numbers) %></th>
      <th><%= Estate.human_attribute_name(:employee) %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @estates.each do |estate| %>
      <tr>
        <td><%= estate.id %></td>
        <td><%= estate.address.full_name %></td>
        <td><%= estate.estate_project.name %></td>
        <td><%= number_of_rooms_for(estate) %></td>
        <td><%= number_of_floors_for(estate) %></td>
        <td><%= estate.price %></td>
        <td><%= estate.client.phone_numbers %></td>
        <td><%= person_shortname(estate.employee) %></td>
        <td><%= link_to t('views.show'), estate %></td>
        <td><%= link_to t('views.edit'), edit_estate_path(estate) %></td>
        <td><%= link_to t('views.destroy'), estate, method: :delete, data: { confirm: t('views.are_you_sure') } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
